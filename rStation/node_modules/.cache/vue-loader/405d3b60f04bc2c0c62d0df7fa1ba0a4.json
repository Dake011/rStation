{"remainingRequest":"/Users/dima/Desktop/rStation/rStation/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dima/Desktop/rStation/rStation/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dima/Desktop/rStation/rStation/src/views/Home.vue","mtime":1574238064944},{"path":"/Users/dima/Desktop/rStation/rStation/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dima/Desktop/rStation/rStation/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dima/Desktop/rStation/rStation/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dima/Desktop/rStation/rStation/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport MainMap from \"../components/MainMap.vue\";\nimport ScheduleTable from \"../components/ScheduleTable.vue\";\n\nexport default {\n  components: {\n    MainMap,\n    ScheduleTable\n  },\n  data() {\n    return {\n      stationFrom: null,\n      stationTo: null,\n      Datee: null,\n      showSchedule: true,\n      schedules: [\n        {\n          TravelInstanceID: 1,\n          TrainName: \"706T\",\n          TrainType: [\"talgo\", \"lux\"],\n          TrainFrom: \"Петропавл\",\n          TrainTo: \"Алматы 2\",\n          ClientFrom: \"Нурсултан\",\n          ClientTo: \"Алматы\",\n          DepartureTime: \"12-12-2019\",\n          ArrivalTime: \"12-12-2019\",\n          KupePrice: 16567,\n          LuxPrice: 19340\n        },\n        {\n          TravelInstanceID: 2,\n          TrainName: \"540x\",\n          TrainType: [\"talgo\", \"lux\"],\n          TrainFrom: \"Актау\",\n          TrainTo: \"Кызылорда\",\n          ClientFrom: \"Жезказган\",\n          ClientTo: \"Шымкент\",\n          DepartureTime: \"01-10-2019\",\n          ArrivalTime: \"02-10-2019\",\n          KupePrice: 12560,\n          LuxPrice: 14350\n        }\n      ],\n    };\n  },\n  mounted() {\n  \n    var inputs = document.getElementsByClassName('pick-input');\n    for( let i = 0; i < inputs.length; i++ ){\n      inputs[i].style.height = \"40px\";\n      inputs[i].style.width = \"100%\";\n      inputs[i].style.padding = \"0px 16px\";\n    }\n   \n    if (localStorage.stationFrom && localStorage.stationTo) {\n      this.stationFrom = localStorage.stationFrom;\n      this.stationTo = localStorage.stationTo;\n    }\n    //   axios.get('http://localhost:8080/databind/api/stations',{\n    //     header:{\n    //       'Access-Control-Allow-Origin': '*',\n    //       \"Access-Control-Allow-Methods\": \"GET, PUT, POST, DELETE\",\n    //       \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\n    //     }\n    //   })\n    //   .then(response => {\n    //       this.stations = response.data;\n    //   })\n    //   .catch(e => {\n    //       console.log(e);\n    //   })\n  },\n  methods: {\n    selectFrom(event) {\n      this.stationFrom = event.target.value;\n      localStorage.stationFrom = event.target.value;\n    },\n    selectTo(event) {\n      this.stationTo = event.target.value;\n      localStorage.stationTo = event.target.value;\n    },\n    swapStations() {\n      if (this.stationFrom && this.stationFrom) {\n        let temp = this.stationFrom;\n        localStorage.stationFrom = this.stationTo;\n        localStorage.stationTo = temp;\n        this.stationFrom = this.stationTo;\n        this.stationTo = temp;\n      }\n    },\n    updateValue(val) {\n      this.Datee = val;\n    },\n    showSchedules() {\n      this.showSchedule = true;\n      // location.reload();\n      //   if(this.stationFrom && this.stationTo && this.Date){\n      //       axios.get('http://localhost:8080/databind/api/schedules?from='+ this.stationFrom + '&to=' + this.stationTo + '&date=' + this.Date,{\n      //         header:{\n      //           'Access-Control-Allow-Origin': '*',\n      //           \"Access-Control-Allow-Methods\": \"GET, PUT, POST, DELETE\",\n      //           \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\n      //         }\n      //       })\n      //       .then(response => {\n      //           this.schedules = response.data;\n      //           this.showSchedule = true;\n      //           console.log(response.data);\n      //       })\n      //       .catch(e => {\n      //           console.log(e);\n      //       })\n      //     }\n    },\n    showTravelInstance(selectSchedule){\n      this.travelInstance = true;\n      this.passSchedule.push({selectSchedule});\n      if(this.passSchedule.length > 1) this.passSchedule.shift();\n      this.allSchedule = false;\n    },\n    showAllSchedule(){\n      this.travelInstance = false;\n      this.allSchedule = true;\n      this.passSchedule.pop();\n    }\n  },\n  computed: {}\n};\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"home\">\n    <!-- ** Search Form Area ** -->\n\n    <section class=\"dorne-welcome-area bg-img bg-overlay\">\n      <div class=\"container h-100\">\n        <div class=\"row h-100 align-items-center justify-content-center\">\n          <div class=\"col-12 col-md-10\">\n            <div id=\"booking\" class=\"section\">\n              <div class=\"section-center\">\n                <div class=\"container\">\n                  <div class=\"row\">\n                    <div class=\"booking-form\">\n                      <div class=\"form-header\">\n                        <h1>Make your reservation</h1>\n                      </div>\n                      <form>\n                        <div class=\"form-group\">\n                          <div class=\"row\">\n                            <div class=\"form-group col-4\">\n                              <label class=\"form-group\">\n                                <p class=\"enter-names enter-names-to\">From:</p>\n                                <select\n                                  @change=\"selectFrom($event)\"\n                                  class=\"form-control\"\n                                  name=\"movies\"\n                                >\n                                  <option value=\"Station From\" disabled selected\n                                    >Station From</option\n                                  >\n                                  <option\n                                    v-for=\"marker in markers\"\n                                    :key=\"marker.station\"\n                                    :selected=\"stationFrom === marker.station\"\n                                    >{{ marker.station }}</option\n                                  >\n                                </select>\n                              </label>\n                            </div>\n                            <div class=\"form-group col-1\">\n                              <div class=\"swap-icon\">\n                                <i\n                                  @click=\"swapStations()\"\n                                  class=\"fas fa-exchange-alt\"\n                                ></i>\n                              </div>\n                            </div>\n                            <div class=\"form-group col-4\">\n                              <label class=\"form-group\">\n                                <p class=\"enter-names enter-names-to\">To:</p>\n                                <select\n                                  @change=\"selectTo($event)\"\n                                  class=\"form-control\"\n                                  name=\"movies\"\n                                >\n                                  <option value=\"Station To\" disabled selected\n                                    >Station To</option\n                                  >\n                                  <option\n                                    v-for=\"marker in markers\"\n                                    :key=\"marker.station\"\n                                    :selected=\"stationTo === marker.station\"\n                                    >{{ marker.station }}</option\n                                  >\n                                </select>\n                              </label>\n                            </div>\n                            <div class=\"form-group form-group-date col-4\">\n                              <label class=\"form-group\">\n                                <p class=\"enter-names enter-names-to\">Date:</p>\n                                <input\n                                  :value=\"Datee\"\n                                  @input=\"updateValue($event.target.value)\"\n                                  id=\"dateTime\"\n                                  class=\"form-control\"\n                                  type=\"date\"\n                                  required\n                                />\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"form-btn\">\n                          <button\n                            type=\"button\"\n                            @click=\"showSchedules()\"\n                            class=\"btn btn-danger\"\n                          >\n                            Search\n                          </button>\n                        </div>\n                    </div>\n       \n                </div>\n            </div>\n        </section>\n\n        <div v-if=\"travelInstance\">\n          <TrainInfo ref=\"showAllSchedule\"></TrainInfo>\n        </div>\n        <div class=\"kz-map\">\n            <MainMap :kzCities=\"kzCities\"></MainMap>\n        </div>\n        <div v-if=\"showSchedule && allSchedule\">\n            <ScheduleTable :schedules=\"schedules\" ref=\"showTravelInstance\"></ScheduleTable>\n        </div>\n        <div v-if=\"!allSchedule\">\n            <ScheduleTable :schedules=\"passSchedule\" ref=\"showTravelInstance\"></ScheduleTable>\n        </div>\n      </div>\n    </section>\n    <TrainInfo></TrainInfo>\n    <div class=\"kz-map\">\n      <MainMap :markers=\"markers\"></MainMap>\n    </div>\n    <div v-if=\"showSchedule\">\n      <ScheduleTable :schedules=\"schedules\"></ScheduleTable>\n    </div>\n</template>\n<script>\nimport MainMap from \"../components/MainMap.vue\";\nimport ScheduleTable from \"../components/ScheduleTable.vue\";\n\nexport default {\n  components: {\n    MainMap,\n    ScheduleTable\n  },\n  data() {\n    return {\n      stationFrom: null,\n      stationTo: null,\n      Datee: null,\n      showSchedule: true,\n      schedules: [\n        {\n          TravelInstanceID: 1,\n          TrainName: \"706T\",\n          TrainType: [\"talgo\", \"lux\"],\n          TrainFrom: \"Петропавл\",\n          TrainTo: \"Алматы 2\",\n          ClientFrom: \"Нурсултан\",\n          ClientTo: \"Алматы\",\n          DepartureTime: \"12-12-2019\",\n          ArrivalTime: \"12-12-2019\",\n          KupePrice: 16567,\n          LuxPrice: 19340\n        },\n        {\n          TravelInstanceID: 2,\n          TrainName: \"540x\",\n          TrainType: [\"talgo\", \"lux\"],\n          TrainFrom: \"Актау\",\n          TrainTo: \"Кызылорда\",\n          ClientFrom: \"Жезказган\",\n          ClientTo: \"Шымкент\",\n          DepartureTime: \"01-10-2019\",\n          ArrivalTime: \"02-10-2019\",\n          KupePrice: 12560,\n          LuxPrice: 14350\n        }\n      ],\n    };\n  },\n  mounted() {\n  \n    var inputs = document.getElementsByClassName('pick-input');\n    for( let i = 0; i < inputs.length; i++ ){\n      inputs[i].style.height = \"40px\";\n      inputs[i].style.width = \"100%\";\n      inputs[i].style.padding = \"0px 16px\";\n    }\n   \n    if (localStorage.stationFrom && localStorage.stationTo) {\n      this.stationFrom = localStorage.stationFrom;\n      this.stationTo = localStorage.stationTo;\n    }\n    //   axios.get('http://localhost:8080/databind/api/stations',{\n    //     header:{\n    //       'Access-Control-Allow-Origin': '*',\n    //       \"Access-Control-Allow-Methods\": \"GET, PUT, POST, DELETE\",\n    //       \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\n    //     }\n    //   })\n    //   .then(response => {\n    //       this.stations = response.data;\n    //   })\n    //   .catch(e => {\n    //       console.log(e);\n    //   })\n  },\n  methods: {\n    selectFrom(event) {\n      this.stationFrom = event.target.value;\n      localStorage.stationFrom = event.target.value;\n    },\n    selectTo(event) {\n      this.stationTo = event.target.value;\n      localStorage.stationTo = event.target.value;\n    },\n    swapStations() {\n      if (this.stationFrom && this.stationFrom) {\n        let temp = this.stationFrom;\n        localStorage.stationFrom = this.stationTo;\n        localStorage.stationTo = temp;\n        this.stationFrom = this.stationTo;\n        this.stationTo = temp;\n      }\n    },\n    updateValue(val) {\n      this.Datee = val;\n    },\n    showSchedules() {\n      this.showSchedule = true;\n      // location.reload();\n      //   if(this.stationFrom && this.stationTo && this.Date){\n      //       axios.get('http://localhost:8080/databind/api/schedules?from='+ this.stationFrom + '&to=' + this.stationTo + '&date=' + this.Date,{\n      //         header:{\n      //           'Access-Control-Allow-Origin': '*',\n      //           \"Access-Control-Allow-Methods\": \"GET, PUT, POST, DELETE\",\n      //           \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\n      //         }\n      //       })\n      //       .then(response => {\n      //           this.schedules = response.data;\n      //           this.showSchedule = true;\n      //           console.log(response.data);\n      //       })\n      //       .catch(e => {\n      //           console.log(e);\n      //       })\n      //     }\n    },\n    showTravelInstance(selectSchedule){\n      this.travelInstance = true;\n      this.passSchedule.push({selectSchedule});\n      if(this.passSchedule.length > 1) this.passSchedule.shift();\n      this.allSchedule = false;\n    },\n    showAllSchedule(){\n      this.travelInstance = false;\n      this.allSchedule = true;\n      this.passSchedule.pop();\n    }\n  },\n  computed: {}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  width: 100%;\n  height: 945px;\n  position: relative;\n  z-index: 1;\n}\n.col-4 {\n  flex: 0 0 30%;\n  max-width: 30%;\n}\n.bg-overlay:after,\n.bg-overlay-9:after {\n  content: \"\";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgba(14, 2, 35, 0.1);\n  z-index: 10;\n}\n\n.bg-overlay-9:after {\n  background-color: rgba(14, 2, 35, 0.9);\n}\n.booking-form {\n  position: relative;\n  max-width: 800px;\n  width: 100%;\n  margin: auto;\n  margin-top: 138px;\n  padding: 30px;\n  overflow: hidden;\n  background: #fff;\n  // background-image: url('../assets/background.jpg');\n  background-size: cover;\n  border-radius: 5px;\n  z-index: 20;\n  opacity: 1;   // Change opacity value to see MAP clear and add :hover below\n  max-height: 300px;\n}\n// .booking-form:hover {\n//   opacity: 0.8;\n// }\n.booking-form::before {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background-color: rgba(68, 71, 92, 1);\n  z-index: -1;\n}\n\n.booking-form .form-header {\n  text-align: center;\n  position: relative;\n}\n\n.booking-form .form-header h1 {\n  font-weight: 700;\n  text-transform: capitalize;\n  font-size: 42px;\n  margin: 0px;\n  color: #fff;\n}\n\n.booking-form .form-group {\n  position: relative;\n  margin: 0;\n  width: 100%;\n  p {\n    color: #cc9966;\n    font-size: 18px;\n    font-weight: 500;\n  }\n  .swap-icon {\n    margin-top: 44px;\n    .fas {\n      padding-top: 8px;\n      padding-left: 8px;\n      width: 40px;\n      height: 40px;\n      font-size: 24px;\n      color: #fff;\n      background: red;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n    .fas:hover {\n      background: #fff;\n      color: red;\n    }\n  }\n}\n\n.booking-form .form-control {\n  height: 40px;\n  padding: 0px 16px;\n  border: none;\n  color: #000;\n  -webkit-box-shadow: 0px 0px 0px 2px transparent;\n  box-shadow: 0px 0px 0px 2px transparent;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\n\n.booking-form .form-control::-webkit-input-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.booking-form .form-control:-ms-input-placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.booking-form .form-control::placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.booking-form .form-control:focus {\n  -webkit-box-shadow: 0px 0px 0px 2px #ff8846;\n  box-shadow: 0px 0px 0px 2px #ff8846;\n}\n\n.booking-form input[type=\"date\"].form-control + .form-label {\n  opacity: 1;\n  top: 10px;\n}\n\n.booking-form select.form-control {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\n.booking-form select.form-control:invalid {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.booking-form select.form-control + .select-arrow {\n  position: absolute;\n  right: 15px;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  width: 32px;\n  line-height: 32px;\n  height: 32px;\n  text-align: center;\n  pointer-events: none;\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 14px;\n}\n\n.booking-form select.form-control + .select-arrow:after {\n  content: \"\\279C\";\n  display: block;\n  -webkit-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.booking-form select.form-control option {\n  color: #000;\n}\n\n.booking-form .form-label {\n  position: absolute;\n  top: -10px;\n  left: 25px;\n  opacity: 0;\n  color: #ff8846;\n  font-size: 11px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 1.3px;\n  height: 15px;\n  line-height: 15px;\n  -webkit-transition: 0.2s all;\n  transition: 0.2s all;\n}\n\n.booking-form .form-group.input-not-empty .form-control {\n  padding-top: 16px;\n}\n\n.booking-form .form-group.input-not-empty .form-label {\n  opacity: 1;\n  top: 10px;\n}\n\n.booking-form .form-btn {\n  text-align: right;\n  button {\n    color: #fff;\n  }\n}\n\n.booking-form .submit-btn:hover,\n.booking-form .submit-btn:focus {\n  opacity: 0.9;\n}\n</style>\n"]}]}